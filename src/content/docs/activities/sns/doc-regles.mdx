---
title: Documentation des r√®gles de pare-feu et NAT
description: Mod√®les de documentation pour les r√®gles de filtrage et de NAT
---

# Documentation des r√®gles de pare-feu et NAT

## Tableau de documentation des r√®gles de filtrage
```markdown
| # | Nom de la r√®gle | Source | Destination | Services | Action | Logs | IPS | Justification |
|---|-----------------|--------|-------------|----------|--------|------|-----|---------------|
| 1 | Anti-spoofing | Internet (OUT) | Tous | Tous | BLOCK | Oui | Non | Bloquer les paquets entrants avec IP source interne (usurpation d'identit√©) |
| 2 | Acc√®s public service | Internet (OUT) | host_serveur (DMZ) | HTTPS (443) | PASS | Oui | Oui | Exemple : Permettre l'acc√®s public au service web |
| ... | ... | ... | ... | ... | ... | ... | ... | ... |
| 98 | BLOCAGE DMZ‚ÜíLAN | net_dmz (DMZ) | net_lan (IN) | Tous | BLOCK | **Oui + Alarme** | Non | **CRITIQUE** - Isoler la DMZ du LAN |
| 99 | Blocage implicite | Tous | Tous | Tous | BLOCK | Oui | Non | R√®gle par d√©faut - deny all |
```

**Notes importantes :**
- Num√©rotez vos r√®gles en laissant des intervalles (1, 5, 10, 15...) pour faciliter les insertions ult√©rieures
- L'ordre des r√®gles est **CRUCIAL** : placez les r√®gles de s√©curit√© (blocages, anti-spoofing) en premier
- Placez les r√®gles sp√©cifiques avant les r√®gles g√©n√©rales
- Documentez syst√©matiquement la justification m√©tier de chaque r√®gle

## Tableau de documentation des r√®gles NAT/PAT
```markdown
| # | Type | Interface source | IP/R√©seau source | Interface destination | IP destination | Port source | Port destination | IP traduite | Port traduit | Service | Justification |
|---|------|------------------|------------------|----------------------|----------------|-------------|------------------|-------------|--------------|---------|---------------|
| 1 | PAT sortant (SNAT) | IN (LAN) | net_lan (172.17.0.0/16) | OUT (Internet) | Tous | Tous | Tous | IP interface OUT | Dynamique | Tous | Permettre au LAN d'acc√©der √† Internet |
| 2 | DNAT entrant | OUT (Internet) | Tous | DMZ | IP interface OUT | Tous | 443 | host_serveur (IP_priv√©e) | 443 | HTTPS | Exemple : Redirection HTTPS vers serveur web interne |
| ... | ... | ... | ... | ... | ... | ... | ... | ... | ... | ... | ... |
```

**Notes importantes :**
- Chaque service expos√© sur Internet n√©cessite g√©n√©ralement une r√®gle DNAT
- Les r√®gles PAT sortantes sont essentielles pour que les r√©seaux priv√©s acc√®dent √† Internet
- Documentez l'IP priv√©e r√©elle dans la colonne ¬´ IP traduite ¬ª

## L√©gende et conventions

### Actions
- **PASS** : Autoriser le trafic
- **BLOCK** : Bloquer le trafic

### Types de NAT
- **PAT sortant (SNAT)** : Source NAT - Traduction de l'IP source pour le trafic sortant (_masquerading_)
- **DNAT entrant** : Destination NAT - Redirection du trafic entrant vers un serveur interne
- **DNAT+SNAT** : Double NAT - Traduction source ET destination (cas particuliers)

### Niveaux de criticit√©
- üî¥ **Alarme activ√©e** : √âv√©nements de s√©curit√© critiques n√©cessitant une alerte imm√©diate
- ‚ö†Ô∏è **Logs obligatoires** : Tra√ßabilit√© essentielle pour l'audit de s√©curit√©
- üìä **Logs recommand√©s** : Tra√ßabilit√© utile pour le diagnostic

### Bonnes pratiques de documentation

1. **Maintenez la coh√©rence** : Utilisez toujours les m√™mes noms d'objets r√©seau
2. **Justifiez chaque r√®gle** : Expliquez le besoin m√©tier, pas seulement la technique
3. **Marquez les r√®gles temporaires** : Ajoutez "[TEMP]" pour les r√®gles √† revoir
4. **Datez les modifications** : Conservez un historique des changements majeurs
5. **R√©f√©rencez les missions** : Indiquez quelle mission a n√©cessit√© la r√®gle (ex: "Mission 3")

### Exemple de convention de nommage

**Objets r√©seau :**
- `net_` : R√©seaux (ex: `net_lan`, `net_dmz`)
- `host_` : Machines individuelles (ex: `host_glpi_srv01`)
- `grp_` : Groupes d'objets (ex: `grp_serveurs_dmz`)

**Services :**
- `srv_` : Services ou groupes de services (ex: `srv_web_standard`)

Ces tableaux constituent la base documentaire de votre architecture de s√©curit√© r√©seau et doivent √™tre maintenus √† jour lors de chaque modification.

:::tip[Conseil de documentation]
Exportez r√©guli√®rement la configuration de votre pare-feu et conservez ces exports avec votre documentation. En cas de probl√®me, vous pourrez comparer la configuration actuelle avec la configuration document√©e.
:::
